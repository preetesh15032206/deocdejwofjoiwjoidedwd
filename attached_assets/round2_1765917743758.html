<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Round 2 - CodeGlitch Conquest</title>
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#dc2626',
                        secondary: '#9333ea'
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-black text-white font-mono overflow-hidden">
    <div class="flex h-screen">
        <!-- Left Content Area - 75% -->
        <div class="w-3/4 p-8 overflow-y-auto">
            <div class="cyber-glitch-container">
                <div class="text-center mb-8">
                    <h1 class="text-5xl font-bold mb-4 text-primary glitch-text" data-text="ROUND 2: CODE DEBUGGING">
                        ROUND 2: CODE DEBUGGING
                    </h1>
                    <div class="cyber-button inline-block">TIME: 60:00</div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Challenge Overview -->
                    <div class="cyber-card">
                        <h2 class="text-3xl text-secondary mb-4">Challenge Overview</h2>
                        <div class="space-y-4">
                            <div class="flex items-start">
                                <i data-feather="target" class="w-5 h-5 text-primary mr-3 mt-1"></i>
                                <div>
                                    <h4 class="text-primary">Objective</h4>
                                    <p>Identify and fix bugs in provided code snippets</p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <i data-feather="clock" class="w-5 h-5 text-primary mr-3 mt-1"></i>
                                <div>
                                    <h4 class="text-primary">Duration</h4>
                                    <p>60 minutes debugging time</p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <i data-feather="file-text" class="w-5 h-5 text-primary mr-3 mt-1"></i>
                                <div>
                                    <h4 class="text-primary">Submission</h4>
                                    <p>PDF format only with explanations</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Important Rules -->
                    <div class="cyber-card">
                        <h2 class="text-3xl text-secondary mb-4">Important Rules</h2>
                        <ul class="space-y-3">
                            <li class="flex items-start">
                                <i data-feather="alert-octagon" class="w-4 h-4 text-red-500 mr-2 mt-1"></i>
                                <span>PDF submission only - no code files accepted</span>
                            </li>
                            <li class="flex items-start">
                                <i data-feather="eye" class="w-4 h-4 text-red-500 mr-2 mt-1"></i>
                                <span>Screenshot detection enabled throughout</span>
                            </li>
                            <li class="flex items-start">
                                <i data-feather="shield-off" class="w-4 h-4 text-red-500 mr-2 mt-1"></i>
                                <span>No external help or AI assistance allowed</span>
                            </li>
                            <li class="flex items-start">
                                <i data-feather="refresh-cw" class="w-4 h-4 text-red-500 mr-2 mt-1"></i>
                                <span>Tab switching causes automatic refresh</span>
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- Code Debugging Interface -->
                <div class="cyber-card mt-8">
                    <h2 class="text-3xl text-secondary mb-6">Debugging Challenge</h2>

                    <!-- Buggy Code Sample -->
                    <div class="mb-6">
                        <h3 class="text-xl text-primary mb-3">Buggy Code #1</h3>
                        <pre class="bg-gray-900 p-4 rounded-lg overflow-x-auto text-sm">
<span class="text-green-400">// Fix the following JavaScript function</span>
<span class="text-blue-400">function</span> <span class="text-yellow-400">calculateSum</span>(<span class="text-orange-400">numbers</span>) {
    <span class="text-blue-400">let</span> total = <span class="text-purple-400">0</span>;
    <span class="text-blue-400">for</span> (<span class="text-blue-400">let</span> i = <span class="text-purple-400">0</span>; i &lt;= numbers.length; i++) {
        total += numbers[i];
    }
    <span class="text-blue-400">return</span> total;
}

<span class="text-green-400">// Test case that should return 15</span>
<span class="text-yellow-400">console</span>.<span class="text-blue-400">log</span>(calculateSum([<span class="text-purple-400">1</span>, <span class="text-purple-400">2</span>, <span class="text-purple-400">3</span>, <span class="text-purple-400">4</span>, <span class="text-purple-400">5</span>]));
                        </pre>
                    </div>

                    <!-- Solution Area -->
                    <div>
                        <h3 class="text-xl text-primary mb-3">Your Solution</h3>
                        <textarea
                            class="w-full h-32 bg-gray-900 border border-gray-700 rounded-lg p-4 font-mono text-sm"
                            placeholder="Explain the bug and provide the corrected code..."
                        ></textarea>
                    </div>

                    <div class="mt-4 flex justify-between items-center">
                        <button class="cyber-button">Save Progress</button>
                        <button class="cyber-button bg-green-600 hover:bg-green-700">Submit PDF</button>
                    </div>
                </div>

                <!-- Anti-Cheat Warning -->
                <div class="cyber-card mt-8 border-red-500">
                    <div class="flex items-center mb-4">
                        <i data-feather="alert-triangle" class="w-6 h-6 text-red-500 mr-2"></i>
                        <h2 class="text-2xl text-red-500">ANTI-CHEAT WARNING</h2>
                    </div>
                    <p class="text-lg mb-4">This round employs advanced monitoring systems:</p>
                    <ul class="list-disc list-inside space-y-2 text-red-300">
                        <li>Keystroke pattern analysis</li>
                        <li>Screen recording detection</li>
                        <li>Background process monitoring</li>
                        <li>Network activity surveillance</li>
                    </ul>
                    <p class="mt-4 text-red-400 font-bold">Any cheating attempt leads to immediate disqualification!</p>
                </div>
            </div>
        </div>

        <!-- Right Dashboard - 25% -->
        <cyber-dashboard></cyber-dashboard>
    </div>

    <script src="components/dashboard.js"></script>
    <script src="script.js"></script>
    <script>
        feather.replace();

        // Enhanced security for debugging round
        let lastActivity = Date.now();
        const activityThreshold = 5000; // 5 seconds

        document.addEventListener('mousemove', resetTimer);
        document.addEventListener('keypress', resetTimer);

        function resetTimer() {
            lastActivity = Date.now();
        }

        setInterval(() => {
            if (Date.now() - lastActivity > activityThreshold) {
                window.apiService.showWarning('Inactivity detected! Keep working or page will refresh.');
            }
            if (Date.now() - lastActivity > activityThreshold * 3) {
                location.reload();
            }
        }, 1000);
    </script>
</body>
</html>